var X=Object.defineProperty,G=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var E=(t,e,o)=>e in t?X(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,x=(t,e)=>{for(var o in e||(e={}))W.call(e,o)&&E(t,o,e[o]);if(L)for(var o of L(e))Y.call(e,o)&&E(t,o,e[o]);return t},S=(t,e)=>G(t,J(e));import{r as v,w as V,o as a,c as d,t as c,a as r,b as P,d as $,e as Q,f as Z,g as m,h as f,i as y,j as ee,k as w,v as F,u as R,l as te,n as C,m as I,F as T,p as U,q as ne,s as O,x as oe,y as D,z as se,A as le,B as re,C as ie,D as ae,E as de,G as ce,H as M,I as N,J as ue,K as pe}from"./vendor.e294dba1.js";const he=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}};he();var g=(t,e)=>{const o=t.__vccOpts||t;for(const[n,s]of e)o[n]=s;return o};const me={name:"content",props:{msg:String,default:""},setup(t,e){console.log("ctx: ",e),console.log("props: ",t);const o=v(t.msg),n=v(18);return V(n,()=>{console.log(n.value)}),{data:o,handleClick:()=>{e.emit("change","hello world")}}}};function fe(t,e,o,n,s,i){return a(),d("div",{onClick:e[0]||(e[0]=(...l)=>n.handleClick&&n.handleClick(...l))},c(n.data),1)}var _e=g(me,[["render",fe]]);const ge={props:{modelValue:{type:String,default:"Default title"},content:{type:String,default:"default content"}},emits:["test"],setup(t,e){return{handleTitle:s=>{e.emit("update:modelValue",s.target.value)},handleContent:s=>{e.emit("update:content",s.target.value)}}}},ve=["value"],ye=["value"];function ke(t,e,o,n,s,i){return a(),d("div",null,[r("input",{type:"text",value:o.modelValue,onInput:e[0]||(e[0]=(...l)=>n.handleTitle&&n.handleTitle(...l))},null,40,ve),r("input",{type:"text",value:o.content,onInput:e[1]||(e[1]=(...l)=>n.handleContent&&n.handleContent(...l))},null,40,ye),r("button",{onClick:e[2]||(e[2]=l=>t.$emit("test",Math.random()*10))},"emit")])}var xe=g(ge,[["render",ke]]);const $e={};function Ce(t,e){return a(),d("div",null,[P(t.$slots,"default"),P(t.$slots,"test",{data:"test-data"})])}var Te=g($e,[["render",Ce]]);function be(){const t=v(0),e=v(0),o=n=>{t.value=n.pageX,e.value=n.pageY};return $(()=>{window.addEventListener("mousemove",o)}),Q(()=>{window.removeEventListener("mousemove",o)}),{x:t,y:e}}const Ae="modulepreload",B={},Se="/",K=function(e,o){return!o||o.length===0?e():Promise.all(o.map(n=>{if(n=`${Se}${n}`,n in B)return;B[n]=!0;const s=n.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${i}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":Ae,s||(l.as="script",l.crossOrigin=""),l.href=n,document.head.appendChild(l),s)return new Promise((_,h)=>{l.addEventListener("load",_),l.addEventListener("error",h)})})).then(()=>e())},Ve={components:{AsyncPage:Z({loader:()=>K(()=>import("./test.648b82c2.js"),["assets/test.648b82c2.js","assets/vendor.e294dba1.js"]),delay:4e3,timeout:3e3,loadingComponent:()=>K(()=>import("./loading.4a91d626.js"),["assets/loading.4a91d626.js","assets/vendor.e294dba1.js"])})}};function we(t,e,o,n,s,i){const l=m("AsyncPage");return a(),d("div",null,[f(l)])}var Ie=g(Ve,[["render",we]]),Ue={setup(t,{slots:e,attrs:o,emit:n}){console.log("props: ",t);const s=y({count:0}),i=()=>{s.count++};return()=>ee("button",{onClick:i},s.count)}};const Le=["onKeypress"],Ee={setup(t){const e=y({num:""}),o=()=>{console.log(111)};return(n,s)=>(a(),d("div",null,[w(r("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>R(e).num=i),id:"",onKeypress:te(o,["q"])},null,40,Le),[[F,R(e).num]])]))}};const Pe={setup(){const t=y({height:0,items:[]}),e=()=>{ne.get("https://dog.ceo/api/breeds/image/random/3").then(n=>{t.items=n.data.message})},o=v(null);return V(()=>t,(n,s)=>{C(()=>{console.log("nextTick2"),console.log(o.value),t.height=o.value.offsetHeight})},{deep:!0}),$(async()=>{await e(),C(()=>{console.log("nextTick1")})}),x({myRef:o},I(t))}},Fe={class:"wrap"},Re={ref:"myRef"},Oe=["src"];function De(t,e,o,n,s,i){return a(),d("div",Fe,[r("h1",null,c(t.height)+"px",1),r("div",Re,[(a(!0),d(T,null,U(t.items,l=>(a(),d("img",{key:l,src:l,alt:"",srcset:""},null,8,Oe))),128))],512)])}var Me=g(Pe,[["render",De],["__scopeId","data-v-73313dde"]]),Ne={data(){return{mixin:"test mixin"}},methods:{mixinClick(){console.log("mixin click")}}};const Be={setup(){$(()=>{C(()=>{console.log("child nextTick")})})}};function Ke(t,e,o,n,s,i){return a(),d("div")}var je=g(Be,[["render",Ke]]);const qe=O("other",{state:()=>({name:"alex"})}),ze=O("todo",{state:()=>({todo:[],filter:"all",nextId:0}),getters:{otherUser(){return qe().name},finishedTodo(t){return t.todo.filter(e=>e.isFinished)},unFinishedTodo(t){return t.todo.filter(e=>!e.isFinished)},filterTodo(t){return this.filter==="finished"?this.finishedTodo:this.filter==="unfinished"?this.unFinishedTodo:this.todo}},actions:{addTodo(t){this.todo.push({text:t,id:this.nextId++,isFinished:!1})},removeTodo(t){const e=this.todo.lastIndexOf(t);e>-1&&this.todo.splice(e,1)}}});const He={setup(t){const e=y({text:""}),o=ze(),{filterTodo:n,otherUser:s}=oe(o),i=()=>{if(e.text===""){alert("\u8BF7\u8F93\u5165");return}o.addTodo(e.text),e.text=""},l=D(()=>!n.value.length),_=u=>{o.$patch({filter:u.target.dataset.text})},h=u=>{o.removeTodo(u)};return S(x({},I(e)),{filterTodo:n,isEmpty:l,tempTodo:o,otherUser:s,handleAdd:i,handleDel:h,handleClick:_})}},k=t=>(ie("data-v-30b4f5bf"),t=t(),ae(),t),Xe=k(()=>r("button",null,"Add",-1)),Ge=k(()=>r("button",{"data-text":"all"},"\u5168\u90E8",-1)),Je=k(()=>r("button",{"data-text":"finished"},"\u5DF2\u5B8C\u6210",-1)),We=k(()=>r("button",{"data-text":"unfinished"},"\u672A\u5B8C\u6210",-1)),Ye=[Ge,Je,We],Qe={key:0},Ze=["onUpdate:modelValue"],et=["onClick"],tt={key:1},nt=k(()=>r("hr",null,null,-1));function ot(t,e,o,n,s,i){return a(),d(T,null,[r("h1",null,"otherStore:"+c(n.otherUser),1),r("form",{onSubmit:e[1]||(e[1]=se((...l)=>n.handleAdd&&n.handleAdd(...l),["prevent"]))},[w(r("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>t.text=l)},null,512),[[F,t.text]]),Xe],32),r("div",{style:{margin:"5px"},onClick:e[2]||(e[2]=(...l)=>n.handleClick&&n.handleClick(...l))},Ye),n.isEmpty?(a(),d("p",tt,"\u6682\u65E0\u6570\u636E")):(a(),d("ul",Qe,[(a(!0),d(T,null,U(n.filterTodo,(l,_)=>(a(),d("li",{key:_},[r("div",null,[w(r("input",{type:"checkbox","onUpdate:modelValue":h=>l.isFinished=h},null,8,Ze),[[le,l.isFinished]]),r("span",{style:re({textDecoration:l.isFinished?"line-through":""})},c(l.text),5)]),r("button",{style:{"margin-left":"77px"},onClick:h=>n.handleDel(l),type:"button"},"X",8,et)]))),128))])),nt],64)}var st=g(He,[["render",ot],["__scopeId","data-v-30b4f5bf"]]);const lt={name:"App",components:{AContent:_e,AChild:xe,ASlot:Te,AAsync:Ie,h:Ue,keyCode:Ee,aRef:Me,aNextTick:je,todoList:st},mixins:[Ne],setup(){const{x:t,y:e}=be(),o=y({msg:"alex",age:10,double:D(()=>o.age*2),title:"\u6807\u9898",content:"\u5185\u5BB9",list:[1,2,3,4],random:0}),n=()=>{o.age+=1},s=u=>{console.log("params: ",u)},i=u=>{o.random=u};V(()=>o.age,(u,b,A)=>{console.log("prev:",b+"===cur:"+u),A(()=>{console.log("clean")})});let l=[];const _=u=>{u&&l.push(u)};de(()=>{l=[]}),ce(()=>{}),$(()=>{C(()=>{console.log("parent nextTick")})});const h=()=>{console.log("updated")};return S(x({},I(o)),{add:n,handleChange:s,handleTest:i,setItemRef:_,handleUpdated:h,x:t,y:e})}},rt={id:"app"},it=r("br",null,null,-1),at=r("hr",null,null,-1),dt=r("span",null,"121212",-1);function ct(t,e,o,n,s,i){const l=m("todo-list"),_=m("a-content"),h=m("a-child"),u=m("a-slot"),b=m("a-async"),A=m("h"),q=m("key-code"),z=m("a-ref"),H=m("a-next-tick");return a(),d("div",rt,[f(l),it,r("div",null,c(t.msg)+"\u7684\u5E74\u9F84\u4E3A"+c(t.age),1),r("div",null,"computed: "+c(t.double),1),f(_,{msg:t.msg,onChange:n.handleChange},null,8,["msg","onChange"]),r("button",{onClick:e[0]||(e[0]=(...p)=>n.add&&n.add(...p))},"+"),f(h,{modelValue:t.title,"onUpdate:modelValue":e[1]||(e[1]=p=>t.title=p),content:t.content,"onUpdate:content":e[2]||(e[2]=p=>t.content=p),onTest:n.handleTest},null,8,["modelValue","content","onTest"]),M(" "+c(t.random)+" ",1),r("p",null,"title:"+c(t.title),1),r("p",null,"content:"+c(t.content),1),at,f(u,null,{test:N(({data:p})=>[M(c(p),1)]),default:N(()=>[dt]),_:1}),r("ul",null,[(a(!0),d(T,null,U(t.list,p=>(a(),d("li",{ref_for:!0,ref:n.setItemRef,key:p},c(p),1))),128))]),r("p",null,"x:"+c(n.x)+",y:"+c(n.y),1),f(b),f(A,{onVnodeUpdated:n.handleUpdated},null,8,["onVnodeUpdated"]),f(q),f(z),r("h1",{onClick:e[3]||(e[3]=(...p)=>t.mixinClick&&t.mixinClick(...p))},c(t.mixin),1),f(H)])}var ut=g(lt,[["render",ct]]);const j=ue(ut);j.use(pe());j.mount("#app");export{g as _};
