var X=Object.defineProperty,G=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var P=(t,e,o)=>e in t?X(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,x=(t,e)=>{for(var o in e||(e={}))Y.call(e,o)&&P(t,o,e[o]);if(E)for(var o of E(e))Q.call(e,o)&&P(t,o,e[o]);return t},S=(t,e)=>G(t,J(e));import{r as v,w as V,o as a,c as d,t as c,a as l,b as R,d as $,e as Z,f as ee,g as m,h as f,i as y,j as te,k as w,v as F,u as O,l as ne,n as C,m as I,F as T,p as L,q as oe,s as D,x as se,y as M,z as re,A as le,B as ie,C as ae,D as de,E as ce,G as ue,H as N,I as B,J as pe,K as he,L as me,M as fe}from"./vendor.043d36cb.js";const _e=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}};_e();var g=(t,e)=>{const o=t.__vccOpts||t;for(const[n,s]of e)o[n]=s;return o};const ge={name:"content",props:{msg:String,default:""},setup(t,e){console.log("ctx: ",e),console.log("props: ",t);const o=v(t.msg),n=v(18);return V(n,()=>{console.log(n.value)}),{data:o,handleClick:()=>{e.emit("change","hello world")}}}};function ve(t,e,o,n,s,i){return a(),d("div",{onClick:e[0]||(e[0]=(...r)=>n.handleClick&&n.handleClick(...r))},c(n.data),1)}var ye=g(ge,[["render",ve]]);const ke={props:{modelValue:{type:String,default:"Default title"},content:{type:String,default:"default content"}},emits:["test"],setup(t,e){return{handleTitle:s=>{e.emit("update:modelValue",s.target.value)},handleContent:s=>{e.emit("update:content",s.target.value)}}}},xe=["value"],$e=["value"];function Ce(t,e,o,n,s,i){return a(),d("div",null,[l("input",{type:"text",value:o.modelValue,onInput:e[0]||(e[0]=(...r)=>n.handleTitle&&n.handleTitle(...r))},null,40,xe),l("input",{type:"text",value:o.content,onInput:e[1]||(e[1]=(...r)=>n.handleContent&&n.handleContent(...r))},null,40,$e),l("button",{onClick:e[2]||(e[2]=r=>t.$emit("test",Math.random()*10))},"emit")])}var Te=g(ke,[["render",Ce]]);const be={};function Ae(t,e){return a(),d("div",null,[R(t.$slots,"default"),R(t.$slots,"test",{data:"test-data"})])}var Se=g(be,[["render",Ae]]);function Ve(){const t=v(0),e=v(0),o=n=>{t.value=n.pageX,e.value=n.pageY};return $(()=>{window.addEventListener("mousemove",o)}),Z(()=>{window.removeEventListener("mousemove",o)}),{x:t,y:e}}const we="modulepreload",K={},Ie="/",j=function(e,o){return!o||o.length===0?e():Promise.all(o.map(n=>{if(n=`${Ie}${n}`,n in K)return;K[n]=!0;const s=n.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${i}`))return;const r=document.createElement("link");if(r.rel=s?"stylesheet":we,s||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),s)return new Promise((_,h)=>{r.addEventListener("load",_),r.addEventListener("error",h)})})).then(()=>e())},Le={components:{AsyncPage:ee({loader:()=>j(()=>import("./test.09d2f9b6.js"),["assets/test.09d2f9b6.js","assets/vendor.043d36cb.js"]),delay:4e3,timeout:3e3,loadingComponent:()=>j(()=>import("./loading.f59d211f.js"),["assets/loading.f59d211f.js","assets/vendor.043d36cb.js"])})}};function Ue(t,e,o,n,s,i){const r=m("AsyncPage");return a(),d("div",null,[f(r)])}var Ee=g(Le,[["render",Ue]]),Pe={setup(t,{slots:e,attrs:o,emit:n}){console.log("props: ",t);const s=y({count:0}),i=()=>{s.count++};return()=>te("button",{onClick:i},s.count)}};const Re=["onKeypress"],Fe={setup(t){const e=y({num:""}),o=()=>{console.log(111)};return(n,s)=>(a(),d("div",null,[w(l("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>O(e).num=i),id:"",onKeypress:ne(o,["q"])},null,40,Re),[[F,O(e).num]])]))}};const Oe={setup(){const t=y({height:0,items:[]}),e=()=>{oe.get("https://dog.ceo/api/breeds/image/random/3").then(n=>{t.items=n.data.message})},o=v(null);return V(()=>t,(n,s)=>{C(()=>{console.log("nextTick2"),console.log(o.value),t.height=o.value.offsetHeight})},{deep:!0}),$(async()=>{await e(),C(()=>{console.log("nextTick1")})}),x({myRef:o},I(t))}},De={class:"wrap"},Me={ref:"myRef"},Ne=["src"];function Be(t,e,o,n,s,i){return a(),d("div",De,[l("h1",null,c(t.height)+"px",1),l("div",Me,[(a(!0),d(T,null,L(t.items,r=>(a(),d("img",{key:r,src:r,alt:"",srcset:""},null,8,Ne))),128))],512)])}var Ke=g(Oe,[["render",Be],["__scopeId","data-v-73313dde"]]),je={data(){return{mixin:"test mixin"}},methods:{mixinClick(){console.log("mixin click")}}};const qe={setup(){$(()=>{C(()=>{console.log("child nextTick")})})}};function He(t,e,o,n,s,i){return a(),d("div")}var ze=g(qe,[["render",He]]);const We=D("other",{state:()=>({name:"alex"})}),Xe=D("todo",{state:()=>({todo:[],filter:"all",nextId:0}),getters:{otherUser(){return We().name},finishedTodo(t){return t.todo.filter(e=>e.isFinished)},unFinishedTodo(t){return t.todo.filter(e=>!e.isFinished)},filterTodo(t){return this.filter==="finished"?this.finishedTodo:this.filter==="unfinished"?this.unFinishedTodo:this.todo}},actions:{addTodo(t){this.todo.push({text:t,id:this.nextId++,isFinished:!1})},removeTodo(t){const e=this.todo.lastIndexOf(t);e>-1&&this.todo.splice(e,1)}}});const Ge={setup(t){const e=y({text:""}),o=Xe(),{filterTodo:n,otherUser:s}=se(o),i=()=>{if(e.text===""){alert("\u8BF7\u8F93\u5165");return}o.addTodo(e.text),e.text=""},r=M(()=>!n.value.length),_=u=>{o.$patch({filter:u.target.dataset.text})},h=u=>{o.removeTodo(u)};return S(x({},I(e)),{filterTodo:n,isEmpty:r,tempTodo:o,otherUser:s,handleAdd:i,handleDel:h,handleClick:_})}},k=t=>(ae("data-v-30b4f5bf"),t=t(),de(),t),Je=k(()=>l("button",null,"Add",-1)),Ye=k(()=>l("button",{"data-text":"all"},"\u5168\u90E8",-1)),Qe=k(()=>l("button",{"data-text":"finished"},"\u5DF2\u5B8C\u6210",-1)),Ze=k(()=>l("button",{"data-text":"unfinished"},"\u672A\u5B8C\u6210",-1)),et=[Ye,Qe,Ze],tt={key:0},nt=["onUpdate:modelValue"],ot=["onClick"],st={key:1},rt=k(()=>l("hr",null,null,-1));function lt(t,e,o,n,s,i){return a(),d(T,null,[l("h1",null,"otherStore:"+c(n.otherUser),1),l("form",{onSubmit:e[1]||(e[1]=re((...r)=>n.handleAdd&&n.handleAdd(...r),["prevent"]))},[w(l("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>t.text=r)},null,512),[[F,t.text]]),Je],32),l("div",{style:{margin:"5px"},onClick:e[2]||(e[2]=(...r)=>n.handleClick&&n.handleClick(...r))},et),n.isEmpty?(a(),d("p",st,"\u6682\u65E0\u6570\u636E")):(a(),d("ul",tt,[(a(!0),d(T,null,L(n.filterTodo,(r,_)=>(a(),d("li",{key:_},[l("div",null,[w(l("input",{type:"checkbox","onUpdate:modelValue":h=>r.isFinished=h},null,8,nt),[[le,r.isFinished]]),l("span",{style:ie({textDecoration:r.isFinished?"line-through":""})},c(r.text),5)]),l("button",{style:{"margin-left":"77px"},onClick:h=>n.handleDel(r),type:"button"},"X",8,ot)]))),128))])),rt],64)}var it=g(Ge,[["render",lt],["__scopeId","data-v-30b4f5bf"]]);const at={name:"App",components:{AContent:ye,AChild:Te,ASlot:Se,AAsync:Ee,h:Pe,keyCode:Fe,aRef:Ke,aNextTick:ze,todoList:it},mixins:[je],setup(){const{x:t,y:e}=Ve(),o=y({msg:"alex",age:10,double:M(()=>o.age*2),title:"\u6807\u9898",content:"\u5185\u5BB9",list:[1,2,3,4],random:0}),n=()=>{o.age+=1},s=u=>{console.log("params: ",u)},i=u=>{o.random=u};V(()=>o.age,(u,b,A)=>{console.log("prev:",b+"===cur:"+u),A(()=>{console.log("clean")})});let r=[];const _=u=>{u&&r.push(u)};ce(()=>{r=[]}),ue(()=>{}),$(()=>{C(()=>{console.log("parent nextTick")})});const h=()=>{console.log("updated")};return S(x({},I(o)),{add:n,handleChange:s,handleTest:i,setItemRef:_,handleUpdated:h,x:t,y:e})}},dt={id:"app"},ct=l("br",null,null,-1),ut=l("hr",null,null,-1),pt=l("span",null,"121212",-1);function ht(t,e,o,n,s,i){const r=m("todo-list"),_=m("a-content"),h=m("a-child"),u=m("a-slot"),b=m("a-async"),A=m("h"),H=m("key-code"),z=m("a-ref"),W=m("a-next-tick");return a(),d("div",dt,[f(r),ct,l("div",null,c(t.msg)+"\u7684\u5E74\u9F84\u4E3A"+c(t.age),1),l("div",null,"computed: "+c(t.double),1),f(_,{msg:t.msg,onChange:n.handleChange},null,8,["msg","onChange"]),l("button",{onClick:e[0]||(e[0]=(...p)=>n.add&&n.add(...p))},"+"),f(h,{modelValue:t.title,"onUpdate:modelValue":e[1]||(e[1]=p=>t.title=p),content:t.content,"onUpdate:content":e[2]||(e[2]=p=>t.content=p),onTest:n.handleTest},null,8,["modelValue","content","onTest"]),N(" "+c(t.random)+" ",1),l("p",null,"title:"+c(t.title),1),l("p",null,"content:"+c(t.content),1),ut,f(u,null,{test:B(({data:p})=>[N(c(p),1)]),default:B(()=>[pt]),_:1}),l("ul",null,[(a(!0),d(T,null,L(t.list,p=>(a(),d("li",{ref_for:!0,ref:n.setItemRef,key:p},c(p),1))),128))]),l("p",null,"x:"+c(n.x)+",y:"+c(n.y),1),f(b),f(A,{onVnodeUpdated:n.handleUpdated},null,8,["onVnodeUpdated"]),f(H),f(z),l("h1",{onClick:e[3]||(e[3]=(...p)=>t.mixinClick&&t.mixinClick(...p))},c(t.mixin),1),f(W)])}var q=g(at,[["render",ht]]);const mt=[{path:"/",component:q}],ft=pe({history:he(),routes:mt}),U=me(q);U.use(fe());U.use(ft);U.mount("#app");export{g as _};
